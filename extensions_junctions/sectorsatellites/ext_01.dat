<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="advanced_satellite_detection_probe_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,11}" description="{927865,12}" deployable="1" icon="mapob_navbeacon" />
      <explosioneffect strength="0" />
      <radar range="10000" />
      <hull max="5000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="hostile_detection_satellite_off_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,13}" description="{927865,14}" deployable="1" icon="mapob_satellite_02" />
      <explosioneffect strength="0" />
      <radar range="0" />
      <hull max="2000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="hostile_detection_satellite_on_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,13}" description="{927865,14}" deployable="1" icon="mapob_satellite_02" />
      <explosioneffect strength="0" />
      <radar range="75000" />
      <hull max="2000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="interdiction_probe_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,15}" description="{927865,16}" deployable="1" icon="mapob_resourceprobe" />
      <explosioneffect strength="0" />
      <radar range="8000" />
      <hull max="2000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="resource_survey_probe_macro" class="resourceprobe">
    <component ref="eq_arg_resourceprobe_01" />
    <properties>
      <identification name="{927865,25}" description="{927865,26}" deployable="1" unique="0" icon="mapob_resourceprobe" />
      <hull max="100" />
    </properties>
  </macro>
</macros><?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="resource_survey_unit_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,23}" description="{927865,24}" deployable="1" icon="mapob_resourceprobe" />
      <explosioneffect strength="0" />
      <radar range="0" />
      <hull max="10000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="survey_probe_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,17}" description="{927865,18}" deployable="1" icon="mapob_navbeacon" />
      <explosioneffect strength="0" />
      <radar range="10000" />
      <hull max="5000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<macros>
  <macro name="survey_unit_macro" class="satellite">
    <component ref="eq_arg_satellite_01" />
    <properties>
      <identification name="{927865,19}" description="{927865,20}" deployable="1" icon="mapob_resourceprobe" />
      <explosioneffect strength="0" />
      <radar range="0" />
      <hull max="10000" />
    </properties>
  </macro>
</macros>
<?xml version="1.0" encoding="utf-8"?>

<diff>
  <add sel="/index">
    <entry name="advanced_satellite_detection_probe_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\advanced_satellite_detection_probe_macro"/>
    <entry name="hostile_detection_satellite_on_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\hostile_detection_satellite_on_macro"/>
    <entry name="hostile_detection_satellite_off_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\hostile_detection_satellite_off_macro"/>
    <entry name="interdiction_probe_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\interdiction_probe_macro"/>
    <entry name="survey_probe_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\survey_probe_macro"/>
    <entry name="survey_unit_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\survey_unit_macro"/>
    <entry name="resource_survey_unit_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\resource_survey_unit_macro"/>
    <entry name="resource_survey_probe_macro" value="extensions\sectorsatellites\assets\props\equipment\satelite\macros\resource_survey_probe_macro"/>
  </add>
</diff>
<?xml version="1.0" encoding="utf-8"?>

<diff>
  <add sel="//deployable/macros">
    <macro category="satellite" mk="0" macro="hostile_detection_satellite_off_macro"/>
    <macro category="satellite" mk="0" macro="interdiction_probe_macro"/>
    <macro category="satellite" mk="0" macro="survey_unit_macro"/>
    <macro category="satellite" mk="0" macro="resource_survey_unit_macro"/>
  </add>
</diff><?xml version="1.0" encoding="utf-8"?>

<wares>
  <ware id="satellite_hostile_det_mk1" name="{927865,13}" description="{927865,14}" transport="equipment" volume="1" tags="equipment satellite">
    <price min="60760" average="80430" max="100090" />
    <production time="60" amount="1" method="default" name="{927865,13}">
      <primary>
        <!--<ware ware="advancedelectronics" amount="10" />
        <ware ware="energycells" amount="20" />
        <ware ware="scanningarrays" amount="10" />-->

        <ware ware="hullparts" amount="3" />
      </primary>
    </production>
    <production time="60" amount="1" method="xenon" name="{927865,13}">
      <primary>
        <ware ware="energycells" amount="1" />
        <ware ware="silicon" amount="1" />
        <ware ware="ore" amount="1" />
      </primary>
    </production>
    <production time="60" amount="1" method="terran" name="{927865,13}">
      <primary>
        <ware ware="computronicsubstrate" amount="10" />
        <ware ware="energycells" amount="50" />
        <ware ware="metallicmicrolattice" amount="78" />
        <ware ware="siliconcarbide" amount="12" />
      </primary>
    </production>
    <component ref="hostile_detection_satellite_off_macro" amount="1" />
    <use threshold="0" />
  </ware>
  <ware id="satellite_interdiction_mk1" name="{927865,15}" description="{927865,16}" transport="equipment" volume="1" tags="equipment satellite">
    <price min="127349" average="178939" max="223434" />
    <production time="60" amount="1" method="default" name="{927865,15}">
      <primary>
        <!--<ware ware="advancedelectronics" amount="20" />
        <ware ware="energycells" amount="40" />
        <ware ware="scanningarrays" amount="20" />-->

        <ware ware="hullparts" amount="3" />
      </primary>
    </production>
    <production time="60" amount="1" method="terran" name="{927865,15}">
      <primary>
        <ware ware="computronicsubstrate" amount="20" />
        <ware ware="energycells" amount="100" />
        <ware ware="metallicmicrolattice" amount="140" />
        <ware ware="siliconcarbide" amount="25" />
      </primary>
    </production>
    <production time="60" amount="1" method="xenon" name="{927865,15}">
      <primary>
        <ware ware="energycells" amount="1" />
        <ware ware="silicon" amount="1" />
        <ware ware="ore" amount="1" />
      </primary>
    </production>
    <component ref="interdiction_probe_macro" amount="1" />
    <use threshold="0" />
  </ware>
  <ware id="survey_unit_mk1" name="{927865,19}" description="{927865,20}" transport="equipment" volume="1" tags="equipment satellite">
    <price min="25458" average="35142" max="45458" />
    <production time="60" amount="1" method="default" name="{927865,19}">
      <primary>
        <!--<ware ware="advancedelectronics" amount="5" />
        <ware ware="energycells" amount="10" />
        <ware ware="scanningarrays" amount="5" />-->

        <ware ware="hullparts" amount="3" />
      </primary>
    </production>
    <production time="60" amount="1" method="xenon" name="{927865,19}">
      <primary>
        <ware ware="energycells" amount="1" />
        <ware ware="silicon" amount="1" />
        <ware ware="ore" amount="1" />
      </primary>
    </production>
    <production time="60" amount="1" method="terran" name="{927865,19}">
      <primary>
        <ware ware="computronicsubstrate" amount="7" />
        <ware ware="energycells" amount="30" />
        <ware ware="metallicmicrolattice" amount="45" />
        <ware ware="siliconcarbide" amount="8" />
      </primary>
    </production>
    <component ref="survey_unit_macro" amount="1" />
    <use threshold="0" />
  </ware>
  <ware id="resource_survey_unit_mk1" name="{927865,23}" description="{927865,24}" transport="equipment" volume="1" tags="equipment satellite">
    <price min="15458" average="20142" max="25458" />
    <production time="60" amount="1" method="default" name="{927865,23}">
      <primary>
        <!--<ware ware="advancedelectronics" amount="5" />
        <ware ware="energycells" amount="10" />
        <ware ware="scanningarrays" amount="5" />-->

        <ware ware="hullparts" amount="3" />
      </primary>
    </production>
    <production time="60" amount="1" method="xenon" name="{927865,23}">
      <primary>
        <ware ware="energycells" amount="1" />
        <ware ware="silicon" amount="1" />
        <ware ware="ore" amount="1" />
      </primary>
    </production>
    <production time="60" amount="1" method="terran" name="{927865,23}">
      <primary>
        <ware ware="computronicsubstrate" amount="4" />
        <ware ware="energycells" amount="18" />
        <ware ware="metallicmicrolattice" amount="25" />
        <ware ware="siliconcarbide" amount="5" />
      </primary>
    </production>
    <component ref="resource_survey_unit_macro" amount="1" />
    <use threshold="0" />
  </ware>
</wares>
<?xml version="1.0" encoding="utf-8"?>
<mdscript name="SectorSatellites" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="E:\Modding\xsds\comb\md.xsd">
  <cues>
    <cue name="SS_Main">
      <conditions>
        <check_any>
          <event_cue_signalled cue="md.Setup.GameStart" />
          <event_player_created/>
          <event_cue_signalled/>
        </check_any>
      </conditions>
      <actions>

        <!-- UPDATE -->
        <set_value name="$versionNumber" exact="1.01"/>

        <do_if value="not @macro.advanced_satellite_detection_probe_macro">
          <show_help duration="30s" custom="{927865,101}"/>
          <debug_text text="{927865,101}"/>
          <reset_cue cue="this"/>
        </do_if>
        <do_else>
          <do_if value="@event.param">
            <show_help duration="10s" custom="{927865,102}"/>
          </do_if>
          <do_else>
            <show_help duration="10s" custom="{927865,103}"/>
          </do_else>
        </do_else>

        <create_group groupname="global.$SS_Main_TrackedEnemies"/>

        <set_value name="$options" exact="table[
                       $sats = table[$detectionProbes = false,
                                     $detectGates = false,
                                     $detectHostileStations = false], 
                       $advSats = table[$detectionProbes = true,
                                        $detectGates = false, 
                                        $detectHostileStations = false], 
                       $hds = table[$detectionProbes = true,
                                    $detectGates = false,
                                    $detectHostileStations = false,
                                    $activeRadar = true,
                                    $relayShipInfo = true, 
                                    $reportRelationValue = -0.01,
                                    $relayShipInfoPurpose = [purpose.fight, purpose.build, purpose.mine, purpose.trade, purpose.auxiliary]
                                    ], 
                       $interProbes = table[], 
                       $surveyProbes = table[$activities = table[$surveyVaults = true, 
                                                                 $surveyShips = true, 
                                                                 $surveyGates = true, 
                                                                 $surveyHighways = true, 
                                                                 $surveyStations = true, 
                                                                 $surveyLockboxes = false,
                                                                 $surveyWormholes = true],
                                             $lifetime = 160s],
                      $resourceSurveyUnits = table[$minResourceAvailability = 'verylow',
                                                    $ignoreMinResourceAvailabilityForReport = true,
                                                    $removeExistingResourceSurveyProbes = true,
                                                    $removeExistingVanillaResourceProbes = false,
                                                    $spawnGrid = true,
                                                    $spawnFullGrid = false,
                                                    $resourcesToScan = [ware.silicon, 
                                                                        ware.ore, 
                                                                        ware.ice, 
                                                                        ware.nividium, 
                                                                        ware.helium, 
                                                                        ware.hydrogen, 
                                                                        ware.methane],
                                                    $skipResProbeThreshhold = 1000
                                              ],
                      $allowUncover = false,
                      $setUncoveredHostile = false,
                      $uncoverFullSector = false,
                      $specifiedObjectsToDestroy = [],
                      $deinstall = false,
                      $disableConversationOption = false,
                      $debug = 0,
                      $yieldLevels = table[$verylow = 0, 
                                            $low = 1, 
                                            $medium = 2, 
                                            $high = 3,
                                            $veryhigh = 4]
                   ]"/>
      </actions>
      <cues>
        <cue name="SS_Main_SetConfigVars">
          <delay exact="2ms"/>
          <actions>
            <set_value name="$ss_cue" exact="this.namespace"/>
            <do_if value="@md.SectorSatellitesConfig.SSC_ConfigBase.exists">
              <include_actions ref="@md.SectorSatellitesConfig.SSC_ConfigBase"/>
              <do_if value="$options.$sats.$detectionProbes != 0 and $options.$sats.$detectionProbes != 1">
                <set_value name="$options.$sats.$detectionProbes" exact="false"/>
              </do_if>
              <do_if value="$options.$advSats.$detectionProbes != 0 and $options.$advSats.$detectionProbes != 1">
                <set_value name="$options.$advSats.$detectionProbes" exact="true"/>
              </do_if>
              <do_if value="$options.$hds.$detectionProbes != 0 and $options.$hds.$detectionProbes != 1">
                <set_value name="$options.$hds.$detectionProbes" exact="true"/>
              </do_if>

              <do_if value="$options.$sats.$detectGates != 0 and $options.$sats.$detectGates != 1">
                <set_value name="$options.$sats.$detectGates" exact="false"/>
              </do_if>
              <do_if value="$options.$advSats.$detectGates != 0 and $options.$advSats.$detectGates != 1">
                <set_value name="$options.$advSats.$detectGates" exact="false"/>
              </do_if>
              <do_if value="$options.$hds.$detectGates != 0 and $options.$hds.$detectGates != 1">
                <set_value name="$options.$hds.$detectGates" exact="false"/>
              </do_if>

              <do_if value="$options.$advSats.$detectHostileStations != 0 and $options.$advSats.$detectHostileStations != 1">
                <set_value name="$options.$advSats.$detectHostileStations" exact="true"/>
              </do_if>
              <do_if value="$options.$hds.$detectHostileStations != 0 and $options.$hds.$detectHostileStations != 1">
                <set_value name="$options.$hds.$detectHostileStations" exact="true"/>
              </do_if>

              <do_if value="$options.$hds.$activeRadar != 0 and $options.$hds.$activeRadar != 1">
                <set_value name="$options.$hds.$activeRadar" exact="true"/>
              </do_if>

              <do_if value="$options.$hds.$relayShipInfo != 0 and $options.$hds.$relayShipInfo != 1">
                <set_value name="$options.$hds.$relayShipInfo" exact="true"/>
              </do_if>

              <do_if value="(typeof $options.$hds.$reportRelationValue).isnumeric == false or $options.$hds.$reportRelationValue gt -0.01">
                <debug_text text="{927865,107}.['$reportRelationValue']"/>
                <show_help custom="{927865,107}.['$reportRelationValue']" duration="20s"/>
                <set_value name="$options.$hds.$reportRelationValue" exact="-0.01"/>
              </do_if>

              <do_if value="typeof $options.$hds.$relayShipInfoPurpose != datatype.list">
                <set_value name="$options.$hds.$relayShipInfoPurpose" exact="[purpose.fight, purpose.build, purpose.mine, purpose.trade, purpose.auxiliary]" />
              </do_if>

              <do_all exact="$options.$surveyProbes.$activities.keys.list.count" counter="$i">
                <set_value name="$key" exact="$options.$surveyProbes.$activities.keys.{$i}"/>
                <do_if value="$options.$surveyProbes.$activities.{$key} != 0 and $options.$surveyProbes.$activities.{$key} != 1">
                  <debug_text text="{927865,104}"/>
                  <show_help custom="{927865,104}" duration="20s"/>
                  <set_value name="$options.$surveyProbes.$activities" exact="table[$surveyVaults = true, $surveyShips = true, $surveyGates = true, $surveyHighways = true, $surveyStations = true, $surveyLockboxes = false, $surveyWormholes = true]"/>
                  <break/>
                </do_if>
              </do_all>

              <do_if value="$options.$surveyProbes.$lifetime lt 80 or $options.$surveyProbes.$lifetime gt 600">
                <debug_text text="{927865,105}"/>
                <show_help custom="{927865,105}" duration="20s"/>
                <set_value name="$options.$surveyProbes.$lifetime" exact="160s"/>
              </do_if>
              <do_else>
                <set_value name="$options.$surveyProbes.$lifetime" exact="($options.$surveyProbes.$lifetime)s"/>
              </do_else>

              <!--<do_if value="$options.$resourceSurveyUnits.$minResourceAvailability lt 0 or $options.$resourceSurveyUnits.$minResourceAvailability gt 30">
                <debug_text text="{927865,105}"/>
                <show_help custom="{927865,105}" duration="20s"/>
                <set_value name="$options.$resourceSurveyUnits.$minResourceAvailability" exact="15"/>
              </do_if>-->

              <do_if value="$options.$resourceSurveyUnits.$minResourceAvailability != 'high' and $options.$resourceSurveyUnits.$minResourceAvailability != 'medium' and $options.$resourceSurveyUnits.$minResourceAvailability != 'low' and $options.$resourceSurveyUnits.$minResourceAvailability != 'verylow'">
                <debug_text text="{927865,107}.['$minResourceAvailability']"/>
                <show_help custom="{927865,107}.['$minResourceAvailability']" duration="20s"/>
                <set_value name="$options.$resourceSurveyUnits.$minResourceAvailability " exact="'verylow'"/>
              </do_if>

              <do_if value="$options.$resourceSurveyUnits.$ignoreMinResourceAvailabilityForReport != 0 and $options.$resourceSurveyUnits.$ignoreMinResourceAvailabilityForReport != 1">
                <set_value name="$options.$resourceSurveyUnits.$ignoreMinResourceAvailabilityForReport" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$resourceSurveyUnits.$removeExistingResourceSurveyProbes != 0 and $options.$resourceSurveyUnits.$removeExistingResourceSurveyProbes != 1">
                <set_value name="$options.$resourceSurveyUnits.$removeExistingResourceSurveyProbes" exact="true"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$resourceSurveyUnits.$removeExistingVanillaResourceProbes != 0 and $options.$resourceSurveyUnits.$removeExistingVanillaResourceProbes != 1">
                <set_value name="$options.$resourceSurveyUnits.$removeExistingVanillaResourceProbes" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$resourceSurveyUnits.$spawnGrid != 0 and $options.$resourceSurveyUnits.$spawnGrid != 1">
                <set_value name="$options.$resourceSurveyUnits.$spawnGrid" exact="true"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$resourceSurveyUnits.$spawnFullGrid != 0 and $options.$resourceSurveyUnits.$spawnFullGrid != 1">
                <set_value name="$options.$resourceSurveyUnits.$spawnGrid" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <set_value name="$resourceListErrorFound" exact="true"/>
              <do_if value="typeof $options.$resourceSurveyUnits.$resourcesToScan == datatype.list">
                <set_value name="$error" exact="false"/>
                <do_for_each name="$curResValue" in="$options.$resourceSurveyUnits.$resourcesToScan">
                  <do_if value="$curResValue == null or typeof $curResValue != datatype.ware">
                    <set_value name="$error" exact="true"/>
                    <break/>
                  </do_if>
                </do_for_each>
                <do_if value="not $error">
                  <set_value name="$resourceListErrorFound" exact="false"/>
                </do_if>
              </do_if>
              <do_if value="$resourceListErrorFound">
                <set_value name="$options.$resourceSurveyUnits.$resourcesToScan" exact="[ware.silicon, ware.ore, ware.ice, ware.nividium, ware.helium, ware.hydrogen, ware.methane]"/>
                <debug_text text="{927865,106}"/>
                <show_help custom="{927865,106}" duration="20s"/>
              </do_if>

              <do_if value="typeof $options.$resourceSurveyUnits.$skipResProbeThreshhold != datatype.integer or $options.$resourceSurveyUnits.$skipResProbeThreshhold lt 0">
                <set_value name="$options.$resourceSurveyUnits.$skipResProbeThreshhold" exact="2000"/>
                <debug_text text="{927865,107}.['$skipResProbeThreshhold']"/>
                <show_help custom="{927865,107}.['$skipResProbeThreshhold']" duration="20s"/>
              </do_if>

              <do_if value="$options.$allowUncover != 0 and $options.$allowUncover != 1">
                <set_value name="$options.$allowUncover" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$setUncoveredHostile != 0 and $options.$setUncoveredHostile != 1">
                <set_value name="$options.$setUncoveredHostile" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="$options.$uncoverFullSector != 0 and $options.$uncoverFullSector != 1">
                <set_value name="$options.$uncoverFullSector" exact="false"/>
                <debug_text text="{927865,104}"/>
                <show_help custom="{927865,104}" duration="20s"/>
              </do_if>

              <do_if value="typeof $options.$specifiedObjectsToDestroy != datatype.list">
                <set_value name="$options.$specifiedObjectsToDestroy" exact="[macro.resource_survey_probe_macro, macro.eq_arg_resourceprobe_01_macro]" />
              </do_if>

              <do_if value="$options.$disableConversationOption != 0 and $options.$disableConversationOption != 1">
                <set_value name="$options.$disableConversationOption" exact="false"/>
              </do_if>

              <do_if value="$options.$deinstall != 0 and $options.$deinstall != 1">
                <set_value name="$options.$deinstall" exact="false"/>
              </do_if>
            </do_if>
            <do_if value="$options.$deinstall">
              <signal_cue cue="SS_Main_RemoveSubsDeinstall"/>
            </do_if>
            <remove_value name="$ss_cue"/>
            <remove_value name="$error"/>
            <remove_value name="$resourceListErrorFound"/>
          </actions>
          <cues>
            <cue name="SS_Main_SetConfigVars_Reset">
              <conditions>
                <check_any>
                  <event_cue_signalled cue="md.Setup.GameStart" />
                  <event_player_created/>
                  <event_cue_signalled/>
                  <event_game_loaded/>
                </check_any>
              </conditions>
              <actions>
                <reset_cue cue="SS_Main_SetConfigVars"/>
              </actions>
            </cue>
          </cues>
        </cue>

        <cue name="SS_Main_Update_0_9_4_fixXenonAllocation">
          <delay exact="5s"/>
          <actions>
            <do_if value="$versionNumber == 0.94">
              <debug_text text="'fixing xenon storage'"/>
              <find_station name="$xenonYards" space="player.galaxy" owner="faction.xenon" multiple="true">
                <match_any>
                  <match wharf="true"/>
                  <match shipyard="true"/>
                </match_any>
              </find_station>
              <set_value name="$waresToCheck" exact="[ware.advancedelectronics, ware.scanningarrays]"/>

              <do_all exact="$xenonYards.count" counter="$i">
                <set_value name="$yard" exact="$xenonYards.{$i}"/>
                <do_all exact="$waresToCheck.count" counter="$j">
                  <set_value name="$ware" exact="$waresToCheck.{$j}"/>

                  <do_if value="$yard.cargo.{$ware}.count != 0">
                    <remove_cargo object="$yard" exact="$yard.cargo.{$ware}.count" ware="$ware"/>
                  </do_if>
                </do_all>
              </do_all>
            </do_if>

            <remove_value name="$xenonYards"/>
            <remove_value name="$waresToCheck"/>
            <remove_value name="$yard"/>
            <remove_value name="$ware"/>
          </actions>
        </cue>

        <cue name="SS_Main_Update_0_9_5_fixTerranAllocation">
          <delay exact="5s"/>
          <actions>
            <do_if value="$versionNumber == 0.95">
              <do_if value="@md.Setup_DLC_Terran.Setup != null">
                <debug_text text="'fixing terran storage'"/>
                <find_station groupname="$terranYards" space="player.galaxy" multiple="true">
                  <match_any>
                    <match wharf="true"/>
                    <match shipyard="true"/>
                  </match_any>
                  <match_any>
                    <match owner="@faction.terran"/>
                    <match owner="@faction.pioneers"/>
                  </match_any>
                </find_station>
                <set_value name="$waresToCheck" exact="[ware.hullparts]"/>

                <do_all exact="$terranYards.count" counter="$i">
                  <set_value name="$yard" exact="$terranYards.{$i}"/>
                  <do_all exact="$waresToCheck.count" counter="$j">
                    <set_value name="$ware" exact="$waresToCheck.{$j}"/>
                    <do_if value="$yard.cargo.{$ware}.target == null">
                      <do_if value="$yard.cargo.{$ware}.count != 0">
                        <remove_cargo object="$yard" exact="$yard.cargo.{$ware}.count" ware="$ware"/>
                      </do_if>
                    </do_if>
                  </do_all>
                </do_all>

                <remove_value name="$terranYards"/>
                <remove_value name="$waresToCheck"/>
                <remove_value name="$yard"/>
                <remove_value name="$ware"/>
              </do_if>
            </do_if>
          </actions>
        </cue>

        <cue name="SS_Main_AddSatelliteBlueprints">
          <delay exact="5s"/>
          <actions>
            <set_value name="$blueprintsToAdd" exact="[ware.satellite_hostile_det_mk1, ware.satellite_interdiction_mk1, ware.survey_unit_mk1, ware.resource_survey_unit_mk1]"/>
            <do_all exact="$blueprintsToAdd.count" counter="$i">
              <do_if value="not player.blueprints.{$blueprintsToAdd.{$i}}.any.exists">
                <add_blueprints wares="$blueprintsToAdd.{$i}"/>
              </do_if>
            </do_all>
            <remove_value name="$blueprintsToAdd"/>
          </actions>
        </cue>

        <cue name="SS_Main_CleanUpSpareProbes">
          <delay exact="10s"/>
          <actions>
            <find_object groupname="$toKill" owner="faction.player" functional="true" multiple="true" space="player.galaxy">
              <match_any>
                <match macro="macro.advanced_satellite_detection_probe_macro"/>
                <match macro="macro.survey_probe_macro"/>
              </match_any>
            </find_object>
            <do_if value="$toKill.count">
              <signal_cue_instantly cue="SS_Main_KillShips" param="[$toKill, 1]"/>
            </do_if>
            <remove_value name="$toKill"/>
          </actions>
        </cue>

        <cue name="SS_Main_PullDataTimer" instantiate="true" checkinterval="10min" checktime="player.age + 30s">
          <conditions>
            <check_value value="not $options.$deinstall"/>
          </conditions>
          <actions>
            <signal_cue_instantly cue="SS_Main_Scan" param="[0, $options]"/>
          </actions>
        </cue>

        <cue name="DialogHandlers">
          <cues>

            <cue name="ContactDialog">
              <cues>
                <cue name="SurveyProbe_ContactDialog_Handler" instantiate="true">
                  <conditions>
                    <check_any>
                      <event_conversation_started conversation="default"/>
                      <event_conversation_returned_to_section section="default"/>
                    </check_any>
                    <check_value value="event.object.container.isclass.[class.ship]"/>
                    <check_value value="event.object.owner == faction.player"/>
                    <check_value value="event.object.controlpost == controlpost.aipilot"/>
                    <check_value value="not $options.$disableConversationOption"/>
                  </conditions>
                  <actions>
                    <do_if value="@md.ExtendedConversationMenu.Main.exists">
                      <set_value name="md.ExtendedConversationMenu.Main.$convOptions.$sectorSatellitesSurveyUnitDialog" exact="table[$signalCue = md.SectorSatellites.SS_SurveyProbe_ConversationExtentionManagerSupport]" />
                    </do_if>
                    <do_else>
                      <signal_cue_instantly cue="SS_SurveyProbe_ConversationExtentionManagerSupport"/>
                    </do_else>
                  </actions>
                </cue>

                <cue name="SS_SurveyProbe_ConversationExtentionManagerSupport" instantiate="true">
                  <conditions>
                    <event_cue_signalled/>
                  </conditions>
                  <actions>
                    <add_player_choice_sub text="{927865,2}" section="SS_SurveyProbe_InContact"/>
                  </actions>
                </cue>

                <cue name="SS_SurveyProbe_InContact_Handler" instantiate="true">
                  <conditions>
                    <check_any>
                      <event_conversation_next_section section="SS_SurveyProbe_InContact"/>
                      <event_conversation_returned_to_section section="SS_SurveyProbe_InContact"/>
                    </check_any>
                  </conditions>
                  <actions>
                    <set_value name="$sector" exact="@event.object.sector"/>
                    <create_group groupname="$surveyProbesToDestroy"/>
                    <create_group groupname="$resourceProbesToDestroy"/>
                    <create_group groupname="$personallySpecifiedObjectsToDestroy"/>
                    <create_group groupname="$disabledDeployables"/>

                    <do_if value="$sector != null">
                      <find_object groupname="$surveyProbesToDestroy" macro="macro.resource_survey_probe_macro" owner="faction.player" multiple="true" space="$sector"/>
                      <find_object groupname="$resourceProbesToDestroy" macro="macro.eq_arg_resourceprobe_01_macro" owner="faction.player" multiple="true" space="$sector"/>
                      <do_if value="@$options.$specifiedObjectsToDestroy.count">
                        <find_object groupname="$personallySpecifiedObjectsToDestroy" macro="$options.$specifiedObjectsToDestroy" owner="faction.player" multiple="true" space="$sector"/>
                      </do_if>
                      <find_object groupname="$disabledDeployables" owner="faction.player" active="false" class="[class.resourceprobe, class.satellite, class.navbeacon]" multiple="true" space="player.galaxy"/>
                    </do_if>

                    <do_if value="$surveyProbesToDestroy.count">
                      <add_player_choice text="{927865,401}.[$surveyProbesToDestroy.count]" comment="Destroy x units" section="SS_SurveyProbe_Destroy" choiceparam="$surveyProbesToDestroy"/>
                    </do_if>
                    <do_else>
                      <add_player_choice text="{927865,402}" comment="No probes found" selectable="false" section="SS_SurveyProbe_Destroy" choiceparam="$surveyProbesToDestroy"/>
                    </do_else>

                    <do_if value="$resourceProbesToDestroy.count">
                      <add_player_choice text="{927865,403}.[$resourceProbesToDestroy.count]" comment="Destroy x units" section="SS_SurveyProbe_Destroy" choiceparam="$resourceProbesToDestroy"/>
                    </do_if>
                    <do_else>
                      <add_player_choice text="{927865,404}" comment="No probes found" selectable="false" section="SS_SurveyProbe_Destroy" choiceparam="$resourceProbesToDestroy"/>
                    </do_else>

                    <do_if value="$personallySpecifiedObjectsToDestroy.count">
                      <add_player_choice text="{927865,405}.[$personallySpecifiedObjectsToDestroy.count]" comment="Destroy x units" section="SS_SurveyProbe_Destroy" choiceparam="$personallySpecifiedObjectsToDestroy"/>
                    </do_if>
                    <do_else>
                      <add_player_choice text="{927865,406}" comment="No probes found" selectable="false" section="SS_SurveyProbe_Destroy" choiceparam="$personallySpecifiedObjectsToDestroy"/>
                    </do_else>

                    <do_if value="$disabledDeployables.count">
                      <add_player_choice text="{927865,408}.[$disabledDeployables.count]" comment="Destroy x units" section="SS_SurveyProbe_Destroy" choiceparam="$disabledDeployables"/>
                    </do_if>
                    <do_else>
                      <add_player_choice text="{927865,409}" comment="No probes found" selectable="false" section="SS_SurveyProbe_Destroy" choiceparam="$disabledDeployables"/>
                    </do_else>

                    <add_player_choice_return position="bottom_right" text="'Back'"/>

                    <remove_value name="$surveyProbesToDestroy"/>
                    <remove_value name="$resourceProbesToDestroy"/>
                    <remove_value name="$personallySpecifiedObjectsToDestroy"/>
                    <remove_value name="$disabledDeployables"/>
                  </actions>
                </cue>

                <cue name="SS_SurveyProbe_Destroy_Handler" instantiate="true">
                  <conditions>
                    <check_any>
                      <event_conversation_next_section section="SS_SurveyProbe_Destroy"/>
                      <event_conversation_returned_to_section section="SS_SurveyProbe_Destroy"/>
                    </check_any>
                  </conditions>
                  <actions>
                    <set_value name="$toDestroy" exact="@event.param2"/>
                    <do_if value="$toDestroy != null">
                      <destroy_group group="$toDestroy"/>
                      <show_notification text="{927865,407}"/>
                    </do_if>

                    <remove_value name="$toDestroy"/>
                  </actions>
                </cue>

              </cues>
            </cue>

          </cues>
        </cue>

        <!-- todo outsource the enemy lookup per satellite into timed cues -->
        <cue name="SS_Main_AdvDetSat_PurgeTrackedGroup" instantiate="true" checkinterval="5min">
          <actions>
            <do_all exact="global.$SS_Main_TrackedEnemies.count" reverse="true" counter="$i">
              <set_value name="$keep" exact="false"/>
              <set_value name="$tEnem" exact="global.$SS_Main_TrackedEnemies.{$i}"/>
              <do_if value="@$tEnem.sector != null">
                <find_object name="$satDets" macro="macro.hostile_detection_satellite_on_macro" owner="faction.player" multiple="true"  functional="true" space="$tEnem.sector"/>
                <do_all exact="$satDets.count" counter="$j">
                  <do_if value="$tEnem.distanceto.{$satDets.{$j}} le 75km and $tEnem.relationto.{faction.player} le $options.$hds.$reportRelationValue">
                    <set_value name="$keep" exact="true"/>
                    <break/>
                  </do_if>
                </do_all>
              </do_if>
              <do_if value="not $keep">
                <remove_from_group group="global.$SS_Main_TrackedEnemies" object="$tEnem"/>
              </do_if>
              <clear_list list="$satDets"/>
            </do_all>

            <remove_value name="$keep"/>
            <remove_value name="$tEnem"/>
            <remove_value name="$satDets"/>
          </actions>
        </cue>

        <cue name="SS_Main_AdvDetSat_EnemyCheck" instantiate="true" checkinterval="30s">
          <conditions>
            <check_value value="$options.$hds.$activeRadar"/>
          </conditions>
          <actions>
            <find_object groupname="$detSats" space="player.galaxy" active="true" owner="faction.player" functional="true" multiple="true">
              <match_any>
                <match macro="macro.hostile_detection_satellite_off_macro"/>
                <match macro="macro.hostile_detection_satellite_on_macro"/>
              </match_any>
            </find_object>
          </actions>
          <cues>
            <cue name="SS_Main_AdvDetSat_EnemyCheck_Loop">
              <delay exact="2ms"/>
              <actions>
                <do_if value="$detSats.count">
                  <signal_cue_instantly cue="SS_Main_AdvDetSat_EnemyCheck_Scan" param="[$detSats.{1}, $options]"/>
                  <remove_from_group group="$detSats" object="$detSats.{1}"/>
                  <reset_cue cue="this"/>
                </do_if>
                <do_else>
                  <remove_value name="$detSats"/>
                </do_else>
              </actions>
            </cue>
          </cues>
        </cue>

        <cue name="SS_Main_AdvDetSat_EnemyCheck_Scan" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay min="1s" max="10s"/>
          <actions>
            <set_value name="$detSat" exact="event.param.{1}"/>
            <set_value name="$options" exact="event.param.{2}"/>
            <do_if value="$detSat.exists and $detSat.isfunctional">
              <find_object groupname="$enemies" functional="true" multiple="true" space="$detSat.sector" class="[class.ship_l, class.ship_xl]">
                <match_relation_to faction="faction.player" relation="enemy" comparison="le"/>
                <match_distance object="$detSat" max="75km"/>
              </find_object>

              <do_for_each name="$toCheck" in="$enemies" reverse="true">
                <do_if value="not $options.$hds.$relayShipInfoPurpose.indexof.{$toCheck.primarypurpose}">
                  <remove_from_group group="$enemies" object="$toCheck"/>
                </do_if>

                <do_if value="$toCheck.relationto.{faction.player} gt $options.$hds.$reportRelationValue">
                  <debug_text chance="$options.$debug" text="'removing ship as potential notif due to relation to player being: %s and threshhold being: %s'.[$toCheck.relationto.{faction.player}, $options.$hds.$reportRelationValue]"/>
                  <remove_from_group group="$enemies" object="$toCheck"/>
                </do_if>
              </do_for_each>

              <do_if value="$enemies.count">
                <do_if value="$detSat.macro == macro.hostile_detection_satellite_off_macro">
                  <set_value name="$posData" exact="[$detSat.sector, $detSat.zone, $detSat.position]"/>
                  <destroy_object object="$detSat" explosion="false"/>
                  <create_object name="$detSat" zone="$posData.{2}" macro="macro.hostile_detection_satellite_on_macro" owner="faction.player" sector="$posData.{1}">
                    <position value="$posData.{3}"/>
                  </create_object>
                  <set_object_name object="$detSat" name="'{927865,22}'"/>
                </do_if>

                <set_value name="$shipTable" exact="table[$l = table[], $xl = table[]]"/>
                <do_all exact="$enemies.count" counter="$i">
                  <set_value name="$enemy" exact="$enemies.{$i}"/>
                  <do_if value="global.$SS_Main_TrackedEnemies.indexof.{$enemy}">
                    <continue/>
                  </do_if>
                  <do_if value="$enemy.isclass.ship_xl">
                    <do_if value="not $shipTable.$xl.keys.count">
                      <set_value name="$shipTable.$xl.{1}" exact="table[$name = $enemy.name, $count = 1]"/>
                    </do_if>
                    <do_else>
                      <set_value name="$exists" exact="false"/>
                      <do_all exact="$shipTable.$xl.keys.list.count" counter="$j">
                        <set_value name="$ship" exact="$shipTable.$xl.{$j}"/>
                        <do_if value="$ship.$name == $enemy.name">
                          <set_value name="$ship.$count" operation="add"/>
                          <set_value name="$exists" exact="true"/>
                        </do_if>
                      </do_all>
                      <do_if value="not $exists">
                        <set_value name="$shipTable.$xl.{$shipTable.$xl.keys.list.count + 1}" exact="table[$name = $enemy.name, $count = 1]"/>
                      </do_if>
                    </do_else>
                  </do_if>
                  <do_else>
                    <do_if value="not $shipTable.$l.keys.count">
                      <set_value name="$shipTable.$l.{1}" exact="table[$name = $enemy.name, $count = 1]"/>
                    </do_if>
                    <do_else>
                      <set_value name="$exists" exact="false"/>
                      <do_all exact="$shipTable.$l.keys.list.count" counter="$j">
                        <set_value name="$ship" exact="$shipTable.$l.{$j}"/>
                        <do_if value="$ship.$name == $enemy.name">
                          <set_value name="$ship.$count" operation="add"/>
                          <set_value name="$exists" exact="true"/>
                        </do_if>
                      </do_all>
                      <do_if value="not $exists">
                        <set_value name="$shipTable.$l.{$shipTable.$l.keys.list.count + 1}" exact="table[$name = $enemy.name, $count = 1]"/>
                      </do_if>
                    </do_else>
                  </do_else>
                  <add_to_group groupname="global.$SS_Main_TrackedEnemies" object="$enemy"/>
                </do_all>

                <do_if value="($shipTable.$xl.keys.list.count or $shipTable.$l.keys.list.count) and $options.$hds.$relayShipInfo">
                  <set_value name="$textHeader" exact="'\033Y' + {927865,201}.[$detSat.sector.name, $detSat.sector.owner.name]"/>
                  <set_value name="$textBody" exact="''"/>

                  <do_all exact="$shipTable.$xl.keys.list.count" counter="$i">
                    <set_value name="$ship" exact="$shipTable.$xl.{$i}"/>
                    <set_value name="$textBody" operation="add" exact="$ship.$count + 'x ' + $ship.$name +'\n'"/>
                  </do_all>
                  <do_all exact="$shipTable.$l.keys.list.count" counter="$i">
                    <set_value name="$ship" exact="$shipTable.$l.{$i}"/>
                    <set_value name="$textBody" operation="add" exact="$ship.$count + 'x ' + $ship.$name +'\n'"/>
                  </do_all>

                  <play_sound object="player.entity" sound="'notification_danger'"/>
                  <do_if value="$shipTable.$l.keys.list.count + $shipTable.$xl.keys.list.count le 3">
                    <show_notification text="$textHeader + $textBody" timeout="10s"/>
                  </do_if>
                  <do_else>
                    <show_notification text="$textHeader + $shipTable.$xl.keys.list.count + 'x xl sized ships\n' + $shipTable.$l.keys.list.count + 'x l sized ships'"/>
                  </do_else>
                  <write_to_logbook title="$textHeader" text="$textBody" interaction="showonmap" object="$detSat" category="tips"/>
                </do_if>
              </do_if>
              <do_else>
                <do_if value="$detSat.macro == macro.hostile_detection_satellite_on_macro">
                  <set_value name="$posData" exact="[$detSat.sector, $detSat.zone, $detSat.position]"/>
                  <destroy_object object="$detSat" explosion="false"/>
                  <create_object name="$detSat" zone="$posData.{2}" macro="macro.hostile_detection_satellite_off_macro" owner="faction.player" sector="$posData.{1}">
                    <position value="$posData.{3}"/>
                  </create_object>
                  <set_object_name object="$detSat" name="'{927865,21}'"/>
                </do_if>
              </do_else>

              <remove_value name="$posData"/>
              <remove_value name="$textHeader"/>
              <remove_value name="$textBody"/>
              <remove_value name="$shipTable"/>
              <remove_value name="$exists"/>
              <remove_value name="$ship"/>
            </do_if>
            <remove_value name="$detSat"/>
          </actions>
        </cue>

        <cue name="SS_Main_InterdictionProbe_Base">
          <actions>
            <create_group groupname="$allIntProbes"/>
          </actions>
          <cues>
            <cue name="SS_Main_InterdictionProbe_GetAll" instantiate="true" checkinterval="1min">
              <actions>
                <clear_group group="$allIntProbes"/>
                <find_object groupname="$allIntProbes" functional="true" owner="faction.player" multiple="true" space="player.sector" macro="macro.interdiction_probe_macro"/>
              </actions>
            </cue>
            <cue name="SS_Main_InterdictionProbe_Check" instantiate="true">
              <conditions>
                <event_gravidar_has_scanned group="$allIntProbes"/>
              </conditions>
              <actions>
                <set_value name="$intProbe" exact="event.object"/>
                <find_object groupname="$targets" multiple="true" space="$intProbe.zone" functional="true" class="[class.ship_l, class.ship_xl]">
                  <match_distance object="$intProbe" space="$intProbe.zone" max="8km"/>
                </find_object>
                <do_all exact="$targets.count" counter="$j">
                  <set_value name="$target" exact="$targets.{$j}"/>
                  <find_object_component groupname="$engines" class="class.engine" multiple="true" object="$target" functional="true"/>
                  <do_all exact="$engines.count" counter="$k">
                    <set_value name="$engine" exact="$engines.{$k}"/>
                    <do_if value="$engine.hullpercentage gt 5">
                      <set_object_hull object="$engine" exact="5"/>
                    </do_if>
                  </do_all>
                  <do_if value="$engines.count and $target.owner != faction.player">
                    <set_relation_boost object="$target" faction="faction.player" reason="relationchangereason.attackedobject" value="$target.owner.relation.kill.min" delay="10min" decay="1"/>
                  </do_if>
                </do_all>

                <remove_value name="$intProbe"/>
                <remove_value name="$targets"/>
                <remove_value name="$target"/>
                <remove_value name="$engines"/>
              </actions>
            </cue>
          </cues>
        </cue>

        <cue name="SS_Main_OnSectorChange" instantiate="true" namespace="this">
          <conditions>
            <event_object_changed_sector object="player.entity"/>
          </conditions>
          <actions>
            <do_if value="event.param">
              <find_object name="$aSats"  owner="faction.player" multiple="true"  functional="true" space="event.param">
                <match_any>
                  <match macro="macro.eq_arg_satellite_02_macro"/>
                  <match macro="macro.hostile_detection_satellite_off_macro"/>
                  <match macro="macro.hostile_detection_satellite_on_macro"/>
                </match_any>
              </find_object>

              <do_if value="$aSats.count">
                <do_all min="5" max="7">
                  <signal_cue cue="md.GenericMissions.SelectMission"/>
                </do_all>
              </do_if>
              <remove_value name="$aSats"/>
            </do_if>
          </actions>
        </cue>

        <cue name="SS_Main_SatDeployed" instantiate="true">
          <conditions>
            <event_satellite_launched space="player.galaxy"/>
            <check_value value="event.param2.isplayerowned"/>
            <check_value value="event.param2.macro != macro.interdiction_probe_macro"/>
          </conditions>
          <actions>
            <do_if value="event.param2.macro == macro.survey_unit_macro">
              <signal_cue_instantly cue="SS_Main_SurveyUnit_DetectThings" param="[event.param2, $options]"/>
              <play_sound object="event.param2" sound="'anim_jumpdrive_l_activation'" />
            </do_if>
            <do_elseif value="event.param2.macro == macro.resource_survey_unit_macro">
              <signal_cue_instantly cue="SS_Main_ResourceSurveyUnit_DetectResources" param="[event.param2, $options]"/>
              <play_sound object="event.param2" sound="'anim_jumpdrive_l_activation'" />
            </do_elseif>
            <do_else>
              <do_if value="event.param2.macro == macro.hostile_detection_satellite_off_macro">
                <set_object_name object="event.param2" name="'{927865,21}'"/>
              </do_if>
              <signal_cue_instantly cue="SS_Main_Scan" param="[event.param2.sector, $options]"/>
            </do_else>
          </actions>
        </cue>

        <cue name="SS_Main_Scan" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <actions>
            <create_group groupname="$sectors"/>
            <set_value name="$options" exact="event.param.{2}"/>
            <do_if value="event.param.{1}">
              <add_to_group groupname="$sectors" object="event.param.{1}"/>
            </do_if>
            <do_else>
              <find_sector name="$knownSectors" multiple="true" space="player.galaxy" known="true"/>
              <do_all exact="$knownSectors.count" counter="$i">
                <find_object owner="faction.player" name="$sat" functional="true" space="$knownSectors.{$i}">
                  <match_any>
                    <match macro="macro.eq_arg_satellite_01_macro"/>
                    <match macro="macro.eq_arg_satellite_02_macro"/>
                    <match macro="macro.hostile_detection_satellite_off_macro"/>
                    <match macro="macro.hostile_detection_satellite_on_macro"/>
                    <match macro="macro.survey_probe_macro"/>
                  </match_any>
                </find_object>
                <do_if value="$sat">
                  <add_to_group groupname="$sectors" object="$knownSectors.{$i}"/>
                </do_if>
              </do_all>
              <remove_value name="$knownSectors"/>
              <remove_value name="$sat"/>
            </do_else>
          </actions>
          <cues>
            <cue name="SS_Main_Scan_Loop">
              <delay exact="2ms"/>
              <actions>
                <do_if value="$sectors.count">
                  <signal_cue_instantly cue="md.SectorSatellites.SS_Main_Scan_Process" param="[$sectors.{1}, $options]"/>
                  <remove_from_group group="$sectors" object="$sectors.{1}"/>
                  <reset_cue cue="this"/>
                </do_if>
                <do_else>
                  <remove_value name="$sectors"/>
                  <remove_value name="$options"/>
                </do_else>
              </actions>
            </cue>
          </cues>
        </cue>

        <cue name="SS_Main_Scan_Process" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay min="1s" max="10s"/>
          <actions>
            <set_value name="$sector" exact="event.param.{1}"/>
            <set_value name="$options" exact="event.param.{2}"/>

            <set_value name="$foundSats" exact="[null, null, null]"/>
            <set_value name="$sat" exact="false"/>
            <set_value name="$satAdv" exact="false"/>
            <set_value name="$satGate" exact="false"/>
            <set_value name="$satHostileStations" exact="false"/>

            <find_object macro="macro.eq_arg_satellite_01_macro" owner="faction.player" name="$foundSats.{1}" functional="true" space="$sector"/>
            <find_object macro="macro.eq_arg_satellite_02_macro" owner="faction.player" name="$foundSats.{2}" functional="true" space="$sector"/>
            <find_object owner="faction.player" name="$foundSats.{3}" functional="true" space="$sector">
              <match_any>
                <match macro="macro.hostile_detection_satellite_off_macro"/>
                <match macro="macro.hostile_detection_satellite_on_macro"/>
              </match_any>
            </find_object>

            <do_all exact="$foundSats.count" counter="$i">
              <do_if value="$foundSats.{$i} != null">
                <set_value name="$sat" exact="true"/>
                <do_if value="($i == 1 and $options.$sats.$detectionProbes or 
                                  $i == 2 and $options.$advSats.$detectionProbes or
                                  $i == 3 and $options.$hds.$detectionProbes) and
                                  $satAdv == false">
                  <set_value name="$satAdv" exact="true"/>
                </do_if>
                <do_if value="($i == 1 and $options.$sats.$detectGates or 
                                  $i == 2 and $options.$advSats.$detectGates or
                                  $i == 3 and $options.$hds.$detectGates) and
                                  $satGate == false">
                  <set_value name="$satGate" exact="true"/>
                </do_if>
                <do_if value="($i == 1 and $options.$sats.$detectHostileStations or 
                                  $i == 2 and $options.$advSats.$detectHostileStations or
                                  $i == 3 and $options.$hds.$detectHostileStations) and
                                  $satHostileStations == false">
                  <set_value name="$satHostileStations" exact="true"/>
                </do_if>
              </do_if>
            </do_all>

            <create_group groupname="$stations"/>
            <create_group groupname="$stationsAdv"/>
            <create_group groupname="$gates"/>
            <create_group groupname="$shipGroup"/>

            <do_if value="$satGate">
              <find_gate multiple="true" groupname="$gates" known="false" space="$sector"/>
              <find_object groupname="$gates" known="false" space="$sector" class="class.highwayentrygate" multiple="true"/>
            </do_if>
            <do_if value="$satAdv">
              <find_station multiple="true" groupname="$stations" known="true" space="$sector">
                <match owner="faction.player" negate="true"/>
              </find_station>
              <find_station multiple="true" groupname="$stationsAdv" known="false" space="$sector">
                <match owner="faction.player" negate="true"/>
              </find_station>
            </do_if>
            <do_elseif value="$sat">
              <find_station multiple="true" groupname="$stations" known="true" space="$sector">
                <match owner="faction.player" negate="true"/>
              </find_station>
            </do_elseif>

            <do_if value="$stationsAdv.count">
              <add_to_group groupname="$stations" group="$stationsAdv"/>
            </do_if>

            <do_all exact="$gates.count" counter="$i">
              <create_object groupname="$shipGroup" name="$ship" macro="macro.advanced_satellite_detection_probe_macro" owner="faction.player" sector="$sector">
                <safepos object="$gates.{$i}" min="1km" max="5km"/>
              </create_object>
            </do_all>

            <do_all exact="$stations.count" counter="$j">
              <do_if value="$stations.{$j}.relationto.{faction.player} gt -0.01 and not $stations.{$j}.haspermanenttradesubscription">
                <add_trade_subscription object="$stations.{$j}"/>
              </do_if>
              <do_else>
                <do_if value="$stations.{$j}.hastradesubscription and $stations.{$j}.owner.relationto.{faction.player} le -0.01">
                  <remove_trade_subscription object="$stations.{$j}"/>
                </do_if>

                <do_if value="not $satHostileStations">
                  <continue/>
                </do_if>
              </do_else>

              <do_if value="$stationsAdv.indexof.{$stations.{$j}}">
                <create_object groupname="$shipGroup" name="$ship" macro="macro.advanced_satellite_detection_probe_macro" owner="faction.player" sector="$sector">
                  <safepos object="$stations.{$j}" min="1km" max="5km"/>
                </create_object>
              </do_if>
            </do_all>
            <do_if value="$shipGroup.count">
              <signal_cue_instantly cue="SS_Main_KillShips" param="[$shipGroup, 1]"/>
            </do_if>

            <remove_value name="$foundSats"/>
            <remove_value name="$options"/>
            <remove_value name="$stations"/>
            <remove_value name="$stationsAdv"/>
            <remove_value name="$shipGroup"/>
            <remove_value name="$ship"/>
            <remove_value name="$sector"/>
            <remove_value name="$sat"/>
            <remove_value name="$satAdv"/>
            <remove_value name="$satGate"/>
            <remove_value name="$gates"/>
            <remove_value name="$satHostileStations"/>
          </actions>
        </cue>

        <cue name="SS_Main_Uncover" instantiate="true" checkinterval="30s">
          <conditions>
            <check_value value="$options.$allowUncover"/>
          </conditions>
          <actions>
            <create_group groupname="$invSats"/>
            <create_group groupname="$invSectors"/>
            <find_station name="$playerStations" space="player.galaxy" multiple="true" owner="faction.player"/>
            <do_for_each name="$station" in="$playerStations">
              <add_to_group groupname="$invSectors" object="$station.sector"/>
            </do_for_each>

            <do_if value="$options.$uncoverFullSector">
              <do_for_each name="$sector" in="$invSectors">
                <signal_cue_instantly cue="SS_Main_Uncover_Pulse" param="[$options, null, $sector]"/>
              </do_for_each>
            </do_if>
            <do_else>
              <do_for_each name="$sector" in="$invSectors">
                <find_object owner="faction.player" groupname="$invSats" multiple="true" functional="true" space="$sector">
                  <match_any>
                    <match macro="macro.eq_arg_satellite_02_macro"/>
                    <match macro="macro.hostile_detection_satellite_off_macro"/>
                    <match macro="macro.hostile_detection_satellite_on_macro"/>
                  </match_any>
                </find_object>
              </do_for_each>

              <do_for_each name="$sat" in="$invSats">
                <signal_cue_instantly cue="SS_Main_Uncover_Pulse" param="[$options, $sat]"/>
              </do_for_each>
            </do_else>

            <remove_value name="$playerStations"/>
            <remove_value name="$invSectors"/>
            <remove_value name="$invSats"/>
          </actions>
        </cue>

        <cue name="SS_Main_Uncover_Pulse" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay min="1s" max="10s"/>
          <actions>
            <set_value name="$sector" exact="@event.param.{3}"/>
            <set_value name="$sat" exact="@event.param.{2}"/>
            <set_value name="$options" exact="event.param.{1}"/>
            <create_group groupname="$shipsToScan"/>
            <debug_text text="'uncovering for sat in: ' + if $sat == null then $sector.knownname else $sat.sector.knownname" chance="$options.$debug"/>

            <do_if value="$sector != null">
              <find_object groupname="$shipsToScan" multiple="true" space="$sector">
                <match trueowner="faction.player" negate="true"/>
                <match_any>
                  <match class="class.ship"/>
                  <match class="class.ship_xs"/>
                </match_any>
                <match covered="true"/>
              </find_object>
            </do_if>
            <do_elseif value="$sat != null and @$sat.sector != null">
              <find_object groupname="$shipsToScan" multiple="true" space="$sat.sector">
                <match trueowner="faction.player" negate="true"/>
                <match_distance object="$sat" max="75km"/>
                <match_any>
                  <match class="class.ship"/>
                  <match class="class.ship_xs"/>
                </match_any>
                <match covered="true"/>
              </find_object>
            </do_elseif>

            <do_for_each name="$scannedShip" in="$shipsToScan">
              <do_if value="$scannedShip.trueowner == faction.player or $scannedShip.trueowner.relationto.{faction.player} gt $scannedShip.trueowner.relation.neutral.max">
                <continue/>
              </do_if>
              <debug_text chance="$options.$debug" text="$shipsToScan.count + ' ' + $scannedShip.name + ' coverowner: ' + $scannedShip.coverowner + ' owner: ' + $scannedShip.owner + ' trueowner: ' + $scannedShip.trueowner"/>
              <do_if value="$options.$setUncoveredHostile">
                <set_relation_boost silent="true" object="$scannedShip" faction="faction.player" reason="relationchangereason.attackedobject" value="$scannedShip.owner.relation.kill.min" decay="1" delay="10min"/>
              </do_if>
              <signal_objects object="$scannedShip" param="'LoseCover'" param2="true"/>
            </do_for_each>

            <clear_group group="$shipsToScan"/>
            <remove_value name="$shipsToScan"/>
            <remove_value name="$sat"/>
            <remove_value name="$options"/>
            <remove_value name="$sector"/>
          </actions>
        </cue>

        <cue name="SS_Main_SurveyUnit_Base">
          <cues>
            <cue name="SS_Main_SurveyUnit_DetectThings" instantiate="true" namespace="this">
              <conditions>
                <event_cue_signalled/>
              </conditions>
              <delay exact="6s"/>
              <actions>
                <do_if value="event.param.{1}.exists">
                  <set_value name="$sector" exact="event.param.{1}.sector"/>
                  <set_value name="$options" exact="event.param.{2}"/>
                  <destroy_object object="event.param.{1}" explosion="false"/>
                  <include_actions ref="SS_Main_DetectThings"/>
                  <remove_value name="$sector"/>
                  <remove_value name="$options"/>
                </do_if>
              </actions>
            </cue>

            <library name="SS_Main_DetectThings">
              <actions>
                <create_group groupname="$thingsToDetect"/>
                <create_group groupname="$surveyProbes"/>
                <do_if value="$options.$surveyProbes.$activities.$surveyShips">
                  <find_object groupname="$thingsToDetect" space="$sector" class="class.ship" multiple="true" owner="faction.ownerless"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyVaults">
                  <find_object groupname="$thingsToDetect" space="$sector" multiple="true">
                    <match_any>
                      <match macro="macro.landmarks_vault_01_macro"/>
                      <match macro="macro.landmarks_vault_02_macro"/>
                      <match macro="macro.landmarks_vault_03_macro"/>
                      <match macro="macro.landmarks_vault_04_macro"/>
                    </match_any>
                  </find_object>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyWormholes">
                  <find_object groupname="$thingsToDetect" space="$sector" class="class.anomaly" multiple="true"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyLockboxes">
                  <find_object groupname="$thingsToDetect" known="false" space="$sector" class="class.lockbox" multiple="true"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyGates">
                  <find_object groupname="$thingsToDetect" known="false" space="$sector" class="class.gate" multiple="true"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyHighways">
                  <find_object groupname="$thingsToDetect" known="false" space="$sector" class="class.highwayentrygate" multiple="true"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyHighways">
                  <find_object groupname="$thingsToDetect" known="false" space="$sector" class="class.highwayexitgate" multiple="true"/>
                </do_if>
                <do_if value="$options.$surveyProbes.$activities.$surveyStations">
                  <find_station groupname="$thingsToDetect" known="false" space="$sector" multiple="true">
                    <match owner="faction.player" negate="true"/>
                  </find_station>
                </do_if>

                <do_all exact="$thingsToDetect.count" counter="$i" reverse="true">
                  <set_value name="$thing" exact="$thingsToDetect.{$i}"/>
                  <do_if value="$thing.isclass.anomaly">
                    <find_object name="$beaconCheck" class="class.navbeacon" owner="faction.player" space="$thing.zone">
                      <match_distance object="$thing" max="15km"/>
                    </find_object>
                    <do_if value="@$beaconCheck == null">
                      <create_object name="$whBeacon" macro="macro.env_deco_nav_beacon_t1_macro" owner="faction.player" sector="$thing.sector">
                        <safepos object="$thing" x="4km" min="1km" max="5km"/>
                      </create_object>
                      <set_object_name object="$whBeacon" name="'{29109,3801} - {29109,4901}'"/>
                    </do_if>
                    <do_else>
                      <debug_text text="'Removing %s from things needing to be detected'.[$thing.name]" chance="$options.$debug"/>
                      <remove_from_group group="$thingsToDetect" object="$thing"/>
                    </do_else>
                  </do_if>
                  <do_else>
                    <create_object groupname="$surveyProbes" name="$detectionProbe" macro="macro.survey_probe_macro" owner="faction.player" sector="$thing.sector">
                      <safepos object="$thing" x="4km" min="1km" max="5km"/>
                    </create_object>
                  </do_else>
                </do_all>
                <signal_cue_instantly cue="SS_Main_CreateTimedNotification" param="[$thingsToDetect, {927865,211}, {927865,212}, {927865, 213}]"/>

                <do_if value="$surveyProbes.count">
                  <signal_cue_instantly cue="SS_Main_KillShips" param="[$surveyProbes, 2]"/>
                </do_if>

                <remove_value name="$activities"/>
                <remove_value name="$thingsToDetect"/>
                <remove_value name="$surveyProbes"/>
                <remove_value name="$thing"/>
                <remove_value name="$beaconCheck"/>
                <remove_value name="$whBeacon"/>
              </actions>
            </library>

            <cue name="SS_Main_ResourceSurveyUnit_DetectResources" instantiate="true" namespace="this">
              <conditions>
                <event_cue_signalled/>
              </conditions>
              <delay exact="6s"/>
              <actions>
                <do_if value="event.param.{1}.exists">
                  <set_value name="$sector" exact="event.param.{1}.sector"/>
                  <set_value name="$options" exact="event.param.{2}"/>
                  <set_value name="$launchedResUnit" exact="event.param.{1}"/>
                  <set_value name="$resOpt" exact="$options.$resourceSurveyUnits"/>
                  <set_value name="$resDebug" exact="0"/>
                  <include_actions ref="SS_Main_RemoveResourceProbes"/>
                  <create_group groupname="$resourceSurveyProbes"/>
                </do_if>
              </actions>

              <cues>
                <cue name="SS_Main_ResourceSurveyUnit_DetectResources_ProcessScan">
                  <delay exact="7s"/>
                  <actions>
                    <include_actions ref="SS_Main_DetectResources"/>
                    <destroy_object object="$launchedResUnit" explosion="false"/>
                    <remove_value name="$sector"/>
                    <remove_value name="$options"/>
                    <remove_value name="$launchedResUnit"/>
                    <remove_value name="$resOpt"/>
                    <remove_value name="$resDebug"/>
                  </actions>
                </cue>

                <cue name="SS_Main_ResourceSurveyUnit_DetectResources_RemoveUnrequiredProbes">
                  <delay exact="12s"/>
                  <actions>
                    <include_actions ref="SS_Main_RemoveUnrequiredProbes"/>
                    <remove_value name="$resourceSurveyProbes"/>
                  </actions>
                </cue>
              </cues>
            </cue>

            <library name="SS_Main_RemoveResourceProbes">
              <actions>
                <create_group groupname="$resourceProbesToDest"/>
                <do_if value="$resOpt.$removeExistingResourceSurveyProbes">
                  <find_object multiple="true" groupname="$resourceProbesToDest" space="$sector" macro="macro.resource_survey_probe_macro" owner="faction.player"/>
                </do_if>
                <do_if value="$resOpt.$removeExistingVanillaResourceProbes">
                  <find_object multiple="true" groupname="$resourceProbesToDest" space="$sector" macro="macro.eq_arg_resourceprobe_01_macro" owner="faction.player"/>
                </do_if>
                <destroy_group group="$resourceProbesToDest" explosion="false"/>
                <remove_value name="$resourceProbesToDest"/>
              </actions>
            </library>

            <library name="SS_Main_DetectResources">
              <delay exact="2s"/>
              <actions>
                <create_list name="$resScanInfo"/>

                <debug_text text="'Running resource scan in: ' + $sector.name" chance="$resDebug"/>
                <do_all exact="$resOpt.$resourcesToScan.count" counter="$i">
                  <set_value name="$resource" exact="$resOpt.$resourcesToScan.{$i}"/>

                  <do_if value="$resource == null">
                    <continue/>
                  </do_if>

                  <set_value name="$yieldTarget" exact="'veryhigh'"/>
                  <get_highest_resource_yield result="$yieldResult" sector="$sector" ware="$resource" yieldname="$yieldTarget" comment="see library/regionyield.xml" />
                  <do_if value="$yieldResult == 0">
                    <set_value name="$yieldTarget" exact="'high'"/>
                    <get_highest_resource_yield result="$yieldResult" sector="$sector" ware="$resource" yieldname="$yieldTarget" comment="see library/regionyield.xml" />
                  </do_if>
                  <do_if value="$yieldResult == 0">
                    <set_value name="$yieldTarget" exact="'medium'"/>
                    <get_highest_resource_yield result="$yieldResult" sector="$sector" ware="$resource" yieldname="$yieldTarget" comment="see library/regionyield.xml" />
                  </do_if>
                  <do_if value="$yieldResult == 0">
                    <set_value name="$yieldTarget" exact="'low'"/>
                    <get_highest_resource_yield result="$yieldResult" sector="$sector" ware="$resource" yieldname="$yieldTarget" comment="see library/regionyield.xml" />
                  </do_if>
                  <do_if value="$yieldResult == 0">
                    <set_value name="$yieldTarget" exact="'verylow'"/>
                    <get_highest_resource_yield result="$yieldResult" sector="$sector" ware="$resource" yieldname="$yieldTarget" comment="see library/regionyield.xml" />
                  </do_if>
                  <do_if value="$yieldResult gt 0" comment="found something, let's take this">
                    <debug_text text="'Found ' + $resource + ' ' + $yieldTarget + '-yield max=' + $yieldResult + ' yield / km3: ' + ($yieldResult / 32f /32f / 32f)f + ' in: ' + $sector.name" chance="$resDebug"/>

                    <do_if value="$options.$yieldLevels.{'$' + $yieldTarget} ge $options.$yieldLevels.{'$' + $resOpt.$minResourceAvailability} or $resOpt.$ignoreMinResourceAvailabilityForReport">
                      <set_value name="$entry" exact="table[
                        $resource = $resource, 
                        $yieldTarget = $yieldTarget, 
                        $yieldResult = $yieldResult,
                        $yieldPerKm3 = ($yieldResult / 32f / 32f / 32f)f,
                        $yieldPerKm3Max = ' ? ',
                        $sector = $sector,
                        $spawnPos = null,
                        $spawnProbe = false,
                      ]"/>
                      <append_to_list name="$resScanInfo" exact="$entry"/>
                    </do_if>
                    <do_if value="$options.$yieldLevels.{'$' + $yieldTarget} lt $options.$yieldLevels.{'$' + $resOpt.$minResourceAvailability}">
                      <continue/>
                    </do_if>

                    <find_closest_resource sector="$foundSector" refobject="$launchedResUnit" minamount="$yieldResult" ware="$resource" position="$curResourcePosition"/>
                    <do_if value="@$foundSector == null">
                      <debug_text text="'didnt find resource location for ' + $sector.name" chance="$resDebug"/>
                      <continue/>
                    </do_if>

                    <set_value name="$entry.$spawnProbe" exact="true"/>
                    <set_value name="$detectFriendlyProbesRange" exact="if $resOpt.$spawnGrid then 80km else 16km"/>
                    <find_object multiple="true" name="$detectedResProbes" space="$sector" macro="[macro.eq_arg_resourceprobe_01_macro, macro.resource_survey_probe_macro]" owner="faction.player">
                      <match_distance space="$sector" max="$detectFriendlyProbesRange" value="$curResourcePosition"/>
                    </find_object>

                    <do_if value="$detectedResProbes.count">
                      <do_for_each name="$probeToBeRemoved" in="$detectedResProbes" reverse="true">
                        <do_if value="not $probeToBeRemoved.maxyield.{$resource}.exists">
                          <remove_value name="$detectedResProbes.{$detectedResProbes.indexof.{$probeToBeRemoved}}"/>
                        </do_if>
                      </do_for_each>
                    </do_if>

                    <set_value name="$unDoSkip" exact="false"/>
                    <set_value name="$unDoSkipThreshhold" exact="$resOpt.$skipResProbeThreshhold"/>

                    <do_if value="$detectedResProbes.count">
                      <debug_text text="'found probe, skipping'" chance="$resDebug"/>
                      <set_value name="$entry.$spawnPos" exact="$curResourcePosition"/>
                      <sort_list list="$detectedResProbes" sortbyvalue="loop.element.relativeposition.{$sector}.distanceto.{$curResourcePosition}" sortdescending="true"/>

                      <set_value name="$entry.$yieldPerKm3Max" exact="$yieldResult"/>
                      <do_if value="$entry.$yieldResult gt $detectedResProbes.last.maxyield.table.{$resource}">
                        <do_if value="($entry.$yieldResult - $detectedResProbes.last.maxyield.table.{$resource}) gt $unDoSkipThreshhold">
                          <debug_text text="'set unDoSkip'" chance="$resDebug"/>
                          <set_value name="$unDoSkip" exact="true"/>
                        </do_if>
                        <do_else>
                          <set_value name="$entry.$yieldResult" exact="$detectedResProbes.last.maxyield.table.{$resource}"/>
                        </do_else>
                      </do_if>
                      <do_if value="not $unDoSkip">
                        <continue/>
                      </do_if>
                    </do_if>
                    <do_if value="$resOpt.$spawnGrid">
                      <include_actions ref="SS_Main_SpawnGrid"/>
                    </do_if>
                    <do_else>
                      <create_object groupname="$resourceSurveyProbes" name="$spawnedResProbe" macro="macro.resource_survey_probe_macro" owner="faction.player" sector="$sector">
                        <safepos x="$curResourcePosition.x" y="$curResourcePosition.y" z="$curResourcePosition.z" exact="200m"/>
                      </create_object>
                      <set_object_name object="$spawnedResProbe" name="$spawnedResProbe.name + ' (' + $resource.name + ')'"/>
                      <set_value name="$entry.$spawnPos" exact="$spawnedResProbe.position"/>
                      <set_value name="$entry.$yieldPerKm3Max" exact="$spawnedResProbe.maxyield.table.{$resource}"/>
                    </do_else>
                  </do_if>
                  <do_else>
                    <debug_text text="$resource + ' not found with yield: ' + $yieldResult + ' in ' + $sector.knownname + ', ignoring'" chance="$resDebug"/>
                  </do_else>
                </do_all>

                <signal_cue_instantly cue="SS_Main_CreateResourceNotification" param="[$resScanInfo, {927865,242}, {927865,212}, {927865, 213}, $sector]"/>

                <remove_value name="$activities"/>
                <remove_value name="$thing"/>

                <remove_value name="$resource"/>
                <remove_value name="$entry"/>
                <remove_value name="$foundSector"/>
                <remove_value name="$launchedResProbe"/>
                <remove_value name="$detectFriendlyProbesRange"/>

                <remove_value name="$unDoSkip"/>
                <remove_value name="$unDoSkipThreshhold"/>
                <remove_value name="$resScanInfo"/>
              </actions>
            </library>

            <library name="SS_Main_RemoveUnrequiredProbes">
              <actions>
                <do_all exact="$resourceSurveyProbes.count" counter="$p" reverse="true">
                  <set_value name="$curProbe" exact="$resourceSurveyProbes.{$p}"/>
                  <do_if value="$curProbe.currentyield.count == 0">
                    <destroy_object object="$curProbe" explosion="false"/>
                  </do_if>
                </do_all>
              </actions>
            </library>

            <library name="SS_Main_SpawnGrid">
              <actions>
                <set_value name="$rangeToScan" exact="192km"/>
                <set_value name="$scanRange" exact="64km"/>
                <set_value name="$count" exact="($rangeToScan / $scanRange)i"/>

                <create_position space="$launchedResUnit.sector" name="$startPos" x="$curResourcePosition.x - $rangeToScan / 2 - ($scanRange / 2)" y="$curResourcePosition.y - $rangeToScan / 2 - ($scanRange / 2)" z="$curResourcePosition.z - $rangeToScan / 2 - ($scanRange / 2)"/>
                <do_all exact="$count" counter="$sx">
                  <do_all exact="$count" counter="$sy">
                    <do_all exact="$count" counter="$sz">
                      <do_if value="not ((($sx == 1 or $sx == 2 or $sx == 3) and $sy == 2 and $sz == 2)
                             or (($sy == 1 or $sy == 2 or $sy == 3) and $sx == 2 and $sz == 2)
                              or (($sz == 1 or $sz == 2 or $sz == 3) and $sx == 2 and $sy == 2)) 
                              and not $options.$resourceSurveyUnits.$spawnFullGrid">
                        <continue/>
                      </do_if>

                      <create_position space="$launchedResUnit.sector" name="$curPos" x="$startPos.x + $scanRange * $sx" y="$startPos.y + $scanRange * $sy" z="$startPos.z + $scanRange * $sz"/>
                      <create_object groupname="$resourceSurveyProbes" name="$spawnedResProbe" macro="macro.resource_survey_probe_macro" owner="faction.player" sector="$sector">
                        <safepos x="$curPos.x" y="$curPos.y" z="$curPos.z" exact="200m"/>
                      </create_object>

                      <do_if value="$sx == 2 and $sy == 2 and $sz == 2">
                        <set_value name="$entry.$yieldPerKm3Max" exact="$spawnedResProbe.maxyield.table.{$resource}"/>
                        <set_value name="$entry.$spawnPos" exact="$spawnedResProbe.position"/>
                        <set_object_name object="$spawnedResProbe" name="$spawnedResProbe.name + ' (X) (' + $resource.name + ')'"/>
                      </do_if>
                    </do_all>
                  </do_all>
                </do_all>

                <remove_value name="$rangeToScan"/>
                <remove_value name="$scanRange"/>
                <remove_value name="$count"/>
                <remove_value name="$startPos"/>
                <remove_value name="$curPos"/>
                <remove_value name="$spawnedResProbe"/>
              </actions>
            </library>

          </cues>
        </cue>

        <cue name="SS_Main_CreateResourceNotification" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <actions>
            <set_value name="$objectsToHandle" exact="event.param.{1}"/>
            <set_value name="$notification" exact="event.param.{4}"/>
            <set_value name="$header" exact="event.param.{2} + ' ' + event.param.{5}.knownname + ':'"/>
            <set_value name="$body" exact="''"/>
            <set_value name="$resourceCounter" exact="0"/>

            <do_all exact="$objectsToHandle.count" counter="$i">
              <set_value name="$object" exact="$objectsToHandle.{$i}"/>
              <do_if value="typeof $object == datatype.table">
                <set_value name="$resourceCounter" operation="add"/>
                <do_if value="$body != ''">
                  <set_value name="$body" operation="add" exact="'\n'"/>
                </do_if>
                <do_if value="$object.$spawnProbe">
                  <set_value name="$body" operation="add" exact="'%s - %s %s - (%s) - %.2s %s (%.2s %s) [%s,%s,%s]'.[$object.$resource.name, {927865,240}, $object.$yieldTarget, $object.$yieldResult, $object.$yieldPerKm3, {927865,241}, ($object.$yieldPerKm3Max / 32f / 32f / 32f)f, {927865,241}, ($object.$spawnPos.x)i, ($object.$spawnPos.y)i, ($object.$spawnPos.z)i]"/>
                </do_if>
                <do_else>
                  <set_value name="$line" exact="'%1 - %2 %6 - %.33 %7 [-,-,-]'.[$object.$resource.name, $object.$yieldTarget, $object.$yieldPerKm3, $object.$yieldResult, $object.$sector.averagemaxyield.table.{$object.$resource}, {927865,240}, {927865,241}]"/>
                  <set_value name="$body" operation="add" exact="'\033Z' + $line + '\033X'" />
                </do_else>
              </do_if>
            </do_all>
            <do_if value="$resourceCounter gt 10">
              <set_value name="$body" exact="$body + '\n' + {927865,214} + ' ' + ($stationCounter - 10) + {927865,215}"/>
            </do_if>
            <do_if value="$body != ''">
              <write_to_logbook category="tips" title="'\033G' + $header" text="$body" interaction="showonmap" object="event.param.{5}"/>
              <show_notification text="'\033G' + $notification" timeout="10s"/>
            </do_if>

            <remove_value name="$notification"/>
            <remove_value name="$objectsToHandle"/>
            <remove_value name="$object"/>
            <remove_value name="$header"/>
            <remove_value name="$body"/>
            <remove_value name="$resourceCounter"/>
            <remove_value name="$line"/>

          </actions>
        </cue>

        <cue name="SS_Main_CreateTimedNotification" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay exact="80s"/>
          <actions>
            <create_group groupname="$objectsToHandle"/>
            <add_to_group groupname="$objectsToHandle" group="event.param.{1}"/>
            <set_value name="$notification" exact="event.param.{4}"/>
            <set_value name="$header" exact="event.param.{2}"/>
            <set_value name="$body" exact="''"/>
            <set_value name="$lockboxCounter" exact="0"/>
            <set_value name="$stationCounter" exact="0"/>

            <do_all exact="$objectsToHandle.count" counter="$i">
              <set_value name="$object" exact="$objectsToHandle.{$i}"/>
              <do_if value="$object.isclass.ship 
                     or $object.isclass.anomaly
                     or [macro.landmarks_vault_01_macro, 
                     macro.landmarks_vault_02_macro, 
                     macro.landmarks_vault_03_macro, 
                     macro.landmarks_vault_04_macro].indexof.{$object.macro}">
                <write_to_logbook category="tips" interaction="showonmap" object="$object" title="'\033G' + $header" text="'%1 - %2 %3 [%4,%5,%6]'.[$object.sector.name, $object.name, {927865,220}, ($object.relativeposition.{$object.sector}.x)i, ($object.relativeposition.{$object.sector}.y)i, ($object.relativeposition.{$object.sector}.z)i]"/>
              </do_if>
              <do_elseif value="$object.isclass.lockbox">
                <set_value name="$lockboxCounter" operation="add"/>
              </do_elseif>
              <do_elseif value="$object.isclass.station">
                <set_value name="$stationCounter" operation="add"/>
                <do_if value="$stationCounter le 10">
                  <do_if value="$body != ''">
                    <set_value name="$body" operation="add" exact="'\n'"/>
                  </do_if>
                  <set_value name="$body" operation="add" exact="'%1 - %2 %3 [%4,%5,%6]'.[$object.sector.name, $object.name, {927865,220}, ($object.relativeposition.{$object.sector}.x)i, ($object.relativeposition.{$object.sector}.y)i, ($object.relativeposition.{$object.sector}.z)i]"/>
                </do_if>
              </do_elseif>
              <do_elseif value="$object.isclass.highwayentrygate">
                <do_if value="$body != ''">
                  <set_value name="$body" operation="add" exact="'\n'"/>
                </do_if>
                <set_value name="$body" operation="add" exact="'%1 - %2 %3 [%4,%5,%6]'.[$object.sector.name, 'Highway entrance', {927865,220}, ($object.relativeposition.{$object.sector}.x)i, ($object.relativeposition.{$object.sector}.y)i, ($object.relativeposition.{$object.sector}.z)i]"/>
              </do_elseif>
              <do_else>
                <do_if value="$body != ''">
                  <set_value name="$body" operation="add" exact="'\n'"/>
                </do_if>
                <set_value name="$body" operation="add" exact="'%1 - %2 %3 [%4,%5,%6]'.[$object.sector.name, $object.name, {927865,220}, ($object.relativeposition.{$object.sector}.x)i, ($object.relativeposition.{$object.sector}.y)i, ($object.relativeposition.{$object.sector}.z)i]"/>
              </do_else>
            </do_all>
            <do_if value="$stationCounter gt 10">
              <set_value name="$body" exact="$body + '\n' + {927865,214} + ' ' + ($stationCounter - 10) + {927865,215}"/>
            </do_if>
            <do_if value="$body != '' or $lockboxCounter != 0">
              <do_if value="$lockboxCounter != 0">
                <do_if value="$body != ''">
                  <set_value name="$body" exact="$body + '\n' + $lockboxCounter + event.param.{3}"/>
                </do_if>
                <do_else>
                  <set_value name="$body" exact="$lockboxCounter + event.param.{3}"/>
                </do_else>
              </do_if>
              <write_to_logbook category="tips" title="'\033G' + $header" text="$body"/>
              <show_notification text="'\033G' + $notification" timeout="10s"/>
            </do_if>

            <remove_value name="$stationCounter"/>
            <remove_value name="$notification"/>
            <remove_value name="$objectsToHandle"/>
            <remove_value name="$object"/>
            <remove_value name="$header"/>
            <remove_value name="$body"/>
            <remove_value name="$lockboxCounter"/>

          </actions>
        </cue>

        <cue name="SS_Main_Player_Collected" instantiate="true" namespace="this">
          <conditions>
              <event_player_collected_ammo/>
            <check_value value="event.param == macro.eq_arg_satellite_01_macro or 
                         event.param == macro.eq_arg_satellite_02_macro or 
                         event.param == macro.hostile_detection_satellite_off_macro or
                         event.param == macro.hostile_detection_satellite_on_macro"/>
          </conditions>
          <actions>
            <signal_cue_instantly cue="SS_Main_RemoveSubs" param="player.ship.sector"/>
          </actions>
        </cue>

        <cue name="SS_Main_Destroyed" instantiate="true" namespace="this">
          <conditions>
            <event_player_owned_destroyed/>
            <check_value value="event.param.macro == macro.eq_arg_satellite_01_macro or 
                         event.param.macro == macro.eq_arg_satellite_02_macro or 
                         event.param.macro == macro.hostile_detection_satellite_off_macro or
                         event.param.macro == macro.hostile_detection_satellite_on_macro 
                         and event.param.isfunctional"/>
          </conditions>
          <actions>
            <do_if value="event.param3 != killmethod.removed">
              <write_to_logbook title="'\033R' + {927865,230}" text="{927865,231}.[event.param.name, event.param.sector.name, event.param2.name]" category="upkeep" interaction="showonmap" object="event.param" />
            </do_if>
            <!--<debug_text text="'player owned picked up or destroyed sat %s'.[event.param.macro]"/>-->
            <signal_cue_instantly cue="SS_Main_RemoveSubs" param="event.param.sector"/>
          </actions>
        </cue>

        <cue name="SS_Main_RemoveSubs" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay exact="1s"/>
          <actions>
            <set_value name="$sector" exact="event.param"/>
            <find_object owner="faction.player" multiple="true" functional="true" groupname="$sats" space="$sector">
              <match_any>
                <match macro="macro.eq_arg_satellite_01_macro"/>
                <match macro="macro.eq_arg_satellite_02_macro"/>
                <match macro="macro.hostile_detection_satellite_off_macro"/>
                <match macro="macro.hostile_detection_satellite_on_macro"/>
              </match_any>
            </find_object>

            <do_if value="not $sats.count">
              <find_station multiple="true" name="$stations" space="$sector">
                <match owner="faction.player" negate="true"/>
              </find_station>

              <do_all exact="$stations.count" counter="$j">
                <do_if value="$stations.{$j}.haspermanenttradesubscription and not faction.player.haslicence.tradesubscription.{$stations.{$j}.trueowner}">
                  <remove_trade_subscription object="$stations.{$j}"/>

                  <do_if value="$stations.{$j}.relationto.{faction.player} ge 0">
                    <add_trade_subscription object="$stations.{$j}" duration="5h"/>
                  </do_if>
                </do_if>
              </do_all>
            </do_if>

            <remove_value name="$stations"/>
            <remove_value name="$sats"/>
            <remove_value name="$sector"/>
          </actions>
        </cue>

        <cue name="SS_Main_RemoveSubsDeinstall" instantiate="true">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <actions>
            <find_sector name="$sectors" multiple="true" space="player.galaxy" known="true"/>
            <do_all exact="$sectors.count" counter="$i">
              <set_value name="$sector" exact="$sectors.{$i}"/>

              <find_object owner="faction.player" functional="true" name="$sat" space="$sector">
                <match_any>
                  <match macro="macro.eq_arg_satellite_01_macro"/>
                  <match macro="macro.eq_arg_satellite_02_macro"/>
                  <match macro="macro.hostile_detection_satellite_off_macro"/>
                  <match macro="macro.hostile_detection_satellite_on_macro"/>
                </match_any>
              </find_object>

              <do_if value="$sat">
                <find_station multiple="true" name="$stations" space="$sector">
                  <match owner="faction.player" negate="true"/>
                </find_station>

                <do_all exact="$stations.count" counter="$j">
                  <do_if value="$stations.{$j}.haspermanenttradesubscription">
                    <remove_trade_subscription object="$stations.{$j}"/>

                    <do_if value="$stations.{$j}.relationto.{faction.player} ge 0">
                      <add_trade_subscription object="$stations.{$j}" duration="5h"/>
                    </do_if>
                  </do_if>
                </do_all>
              </do_if>

              <remove_value name="global.$SS_Main_TrackedEnemies"/>

              <remove_value name="$stations"/>
              <remove_value name="$sat"/>
              <remove_value name="$sector"/>
            </do_all>
            <remove_value name="$sectors"/>

          </actions>
        </cue>

        <cue name="SS_Main_KillShips" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <actions>
            <add_to_group groupname="$shipsToDie" group="event.param.{1}"/>
            <do_if value="event.param.{2} == 1">
              <signal_cue_instantly cue="SS_Main_ExecuteKills" param="$shipsToDie"/>
            </do_if>
            <do_else>
              <signal_cue_instantly cue="SS_Main_ExecuteProbeKills" param="$shipsToDie"/>
            </do_else>
            <remove_value name="$shipsToDie"/>
          </actions>
        </cue>

        <cue name="SS_Main_ExecuteKills" instantiate="true" namespace="this">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay exact="80s"/>
          <actions>
            <destroy_group group="event.param" explosion="false"/>
          </actions>
        </cue>

        <cue name="SS_Main_ExecuteProbeKills" instantiate="true">
          <conditions>
            <event_cue_signalled/>
          </conditions>
          <delay exact="$options.$surveyProbes.$lifetime"/>
          <actions>
            <destroy_group group="event.param" explosion="false"/>
          </actions>
        </cue>

        <cue name="DebugModReset">
          <conditions>
            <event_player_changed_activity activity="activity.scan_longrange"/>
            <check_value value="false"/>
          </conditions>
          <actions>
            <signal_cue_instantly cue="SS_KeepAlive" param="true"/>
            <reset_cue cue="SS_Main"/>
          </actions>
        </cue>

        <cue name="SS_VersionCheck" instantiate="false">
          <conditions>
            <check_any>
              <event_player_created/>
              <event_game_loaded/>
              <event_cue_signalled cue="md.Setup.GameStart" />
              <event_cue_signalled/>
            </check_any>
          </conditions>
          <actions>
            <!--UPDATE-->
            <set_value name="$newVersionNumber" exact="1.01"/>

            <do_if value="$versionNumber != $newVersionNumber or $versionNumber == null or $versionNumber == 0">
              <signal_cue_instantly cue="SS_KeepAlive" param="true"/>
              <reset_cue cue="SS_Main"/>
            </do_if>
            <reset_cue cue="this"/>
          </actions>
        </cue>

      </cues>
    </cue>

    <cue name="SS_KeepAlive" instantiate="false">
      <conditions>
        <check_any>
          <event_cue_signalled/>
        </check_any>
      </conditions>
      <delay exact="2s"/>
      <actions>
        <do_if value="event.param">
          <signal_cue_instantly cue="SS_Main" param="event.param"/>
        </do_if>
        <do_else>
          <signal_cue cue="SS_Main"/>
        </do_else>
        <reset_cue cue="this"/>
      </actions>
    </cue>

  </cues>
</mdscript><?xml version="1.0" encoding="utf-8" ?>

<diff>
  <replace sel="//library[@name='Check_ResourceProbes']/actions/do_if/do_for_each[@name='$MiningSpace']/do_else/find_object">
    <find_object name="$ResourceProbe" class="class.resourceprobe" owner="faction.player" space="$MiningSpace"/>
  </replace>
</diff>

﻿<?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Зонд улучшенного спутника</t>
      <t id="12">Используется улучшенными стпутниками.</t>
      <t id="13">Спутник враждебного присутствия</t>
      <t id="14">Служит для обнаружение вражеских кораблей L и XL класса. Активируется только при входе кораблей в радиус действия спутника.</t>
      <t id="15">Защитный Зонд</t>
      <t id="16">Повреждает двигатели больших вражеских кораблей попавших в радиус действыия зонда.</t>
      <t id="17">Исследовательский зонд</t>
      <t id="18">Служит для обнаружения сброшенных и бесхозных товаров в космосе.</t>
      <t id="19">Геодезический зонд</t>
      <t id="20">Зонд для обнаружения скрытых сокровищ, такие как хранилища данных и бесхозные корабли. Одноразовый.</t>

      <t id="21">Спутник враждебного присутствия \(Спяший режим\)</t>
      <t id="22">Спутник враждебного присутствия \(Активен\)</t>

      <t id="101">SectorSatellite: Мод не найден. Убедитесь, что мод установлен в папку \(/X4 Foundations/extensions\). Мод НЕ активен!</t>
      <t id="102">Обновление мода SectorSatellite завершено</t>
      <t id="103">Установка мода SectorSatellite завершена</t>
      <t id="104">Неверно установлен значение в true или false, установлено значение по умолчанию до исправления!</t>
      <t id="105">Значение активности должно быть от 80 до 600 секунд. Применены значения по умолчанию для исправления.!</t>

      <t id="201">Отчет об обнаружении врага: %1 на %2 територии\n</t>
      <t id="211">Отчет разведки - Объектов интереса найдено в космосе:</t>
      <t id="212"> обнаружен запертый контейнер.</t>
      <t id="213">Доступен отчет разведки</t>
      <t id="214">и</t>
      <t id="215"> дополнительные станции.</t>
      <t id="220">Расположение:</t>

      <t id="230">Спутник уничтожен</t>
      <t id="231">Ваш %1 был уничтожен в секторе: %2 объектом %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resorce probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">yield</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">Satellites de Secteurs</t>
      <t id="2">Satellites de Secteurs</t>

      <t id="11">Sonde de détection de satellites avancée</t>
      <t id="12">Utilisée par les satellites avancés.</t>
      <t id="13">Satellite de détection des hostiles</t>
      <t id="14">S'active seulement quand un vaisseau L ou XL entre dans le champ de détection et préviens le joueur</t>
      <t id="15">Sonde d'interdiction</t>
      <t id="16">Endommage et perturbe les moteurs des grands vaisseaux</t>
      <t id="17">Sonde de surveillance</t>
      <t id="18">Détecte les objets dans l'espace</t>
      <t id="19">Unité de surveillance</t>
      <t id="20">Se sépare en sonde de surveillance qui détecte les trésors cachés, comme les coffres de données et les vaisseaux abandonnés. Usage unique.</t>

      <t id="21">Satellite de détection des hostiles \(Passif\)</t>
      <t id="22">Satellite de détection des hostiles \(Actif\)</t>

      <t id="101">Satellites de Secteurs - Les fichiers du Mod n'ont pas été trouvés dans le jeu. Assurez-vous que le Mod a été installé au bon endroit.\(/X4 Foundations/extensions\). Mod NON activé !</t>
      <t id="102">Satellites de Secteurs - mise à jour terminée</t>
      <t id="103">Satellites de Secteurs - installation complétee</t>
      <t id="104">Une valeur n'a pas été correctement réglée sur vrai ou faux, une valeur par défaut sera appliquée en attendant !</t>
      <t id="105">La durée de vie doit être entre 80 et 600 secondes, une valeur par défaut sera appliquée en attendant !</t>

      <t id="201">Rapport de détection d'ennemis : %1 dans territoire %2\n</t>
      <t id="211">Rapport de surveillance - Objet\(s\) digne\(s\) d'intérèt détecté\(s\) dans l'espace :</t>
      <t id="212"> Coffre-fort détécté.</t>
      <t id="213">Rapport de surveillance disponible</t>
      <t id="214">et</t>
      <t id="215"> stations supplémentaires.</t>
      <t id="220">Lieu :</t>

      <t id="230">Satellite détruit</t>
      <t id="231">Votre %1 a été détruit dans le Secteur : %2 par %3</t>

      <t id="23">Unité de sondage de ressources</t>
      <t id="24">Se divise en sondes de prospection qui détectent les ressources cachées et placent les sonde de ressources aux meilleurs endroits.</t>
      <t id="25">Sonde de prospection</t>
      <t id="26">Une sonde similaire à la sonde de ressources standard. A été générée par une unité de sondage de ressources.</t>

      <t id="106">Une valeur de table pour $resourcesToScan est incorrecte, application des valeurs par défaut jusqu'à ce qu'elle soit corrigée !</t>
      <t id="107">Le réglage du mod %1 est incorrect, appliquer les valeurs par défaut jusqu'à ce qu'il soit réparé !</t>

      <t id="240">rendement</t>
      <t id="241">/ km³</t>
      <t id="242">Rapport de prospection dans</t>

      <t id="401">Autodestruction de %1 sondes de prospection</t>
      <t id="402">Aucune sonde de prospection n'a été trouvée</t>
      <t id="403">Autodestruction de %1 sondes de ressources</t>
      <t id="404">Aucune sondes de ressources n'a été trouvée</t>
      <t id="405">Autodestruction de %1 objets prédéfinis</t>
      <t id="406">Aucun objets prédéfinis n'a été trouvée</t>
      <t id="407">Suppression terminée</t>

      <t id="408">Autodestruction de %1 objets désactivés dans la galaxie.</t>
      <t id="409">Aucun objet désactivé trouvé</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff>﻿<?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Erweiterte Satelliten Entdeckungssonde</t>
      <t id="12">Wird von erweiterten Satelliten verwendet.</t>
      <t id="13">Feinderkennungssatellit</t>
      <t id="14">Aktiviert sich nur wenn feindliche l oder XL Schiffe in Reichweite sind und informiert den Besitzer.</t>
      <t id="15">Antriebsstörungssonde</t>
      <t id="16">Schädigt und stört Antriebe größerer Schiffe.</t>
      <t id="17">Entdeckungssonde</t>
      <t id="18">Entdeckt verborgene Dinge im Weltall</t>
      <t id="19">Entdeckungseinheit</t>
      <t id="20">Teilt sich in Entdeckungssonden auf, die dann verborgene Schätze wie Datentresore und verlassene Schiffe ausfindig machen. Nur einmalige Verwendung.</t>

      <t id="21">Feinderkennungssatellit \(Passiv\)</t>
      <t id="22">Feinderkennungssatellit \(Aktiv\)</t>

      <t id="101">SectorSatellite: Mod Dateien wurden ingame nicht gefunden, bitte stelle sicher, dass der Mod an der richtigen Stelle installiert wurde. \(/X4 Foundations/extensions\). Mod NICHT aktiviert!</t>
      <t id="102">SectorSatellite Update durchgeführt.</t>
      <t id="103">SectorSatellite Installation durchgeführt.</t>
      <t id="104">Ein Wert wurde nicht korrekt auf true oder false gesetzt, standart Werte werden gesetzt bis das behoben wurde!</t>
      <t id="105">Die Lebensspanne muss zwischen 80 and 600 Sekunden liegen, standart Werte werden gesetzt bis das behoben wurde!</t>

      <t id="201">Feindentdeckungsbericht: %1 in %2 Gebiet\n</t>
      <t id="211">Entdeckungsbericht - Verdächtige Objekt\(e\) im All entdeckt:</t>
      <t id="212"> verschlossene Kisten wurden entdeckt.</t>
      <t id="213">Entdeckungsbericht liegt vor</t>
      <t id="214">und</t>
      <t id="215"> weitere Stationen.</t>
      <t id="220">Position:</t>

      <t id="230">Satellit zerstört</t>
      <t id="231">Dein %1 wurde im Sektor %2 von %3 zerstört.</t>

      <t id="23">Ressourcen-Entdeckungseinheit</t>
      <t id="24">Teilt sich in autonom agierende KI-Ressourcensonden auf, die überdurchschnittlich hohe Ressourcenvorkommen aufspüren und dauerhaft dort verbleiben</t>
      <t id="25">KI-Ressourcensonde</t>
      <t id="26">Eine ähnliche Sonde wie die Standard-Ressourcensonde. Wurde von einer Ressourcen-Entdeckungseinheit ausgeworfen.</t>

      <t id="106">Ein Tabellenwert für $resourcesToScan ist fehlerhaft, Standardwerte werden bis zur Korrektur angewendet!</t>
      <t id="107">Die Mod-Einstellung %1 ist fehlerhaft, Standardwerte werden bis zur Korrektur angewendet!</t>

      <t id="240">Ertrag:</t>
      <t id="241">/ km³</t>
      <t id="242">Ressourcenentdeckungsbericht: Ressourcen gefunden in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">섹터위성</t>
      <t id="2">섹터 위성</t>

      <t id="11">고급 위성 탐사정</t>
      <t id="12">고급 위성에서 사용합니다.</t>
      <t id="13">적 탐지 위성</t>
      <t id="14">적대적인 l 또는 xl 선박이 범위 내에 있을 때만 활성화되고 소유자에게 경고합니다.</t>
      <t id="15">차단 탐사정</t>
      <t id="16">대형 선박의 엔진 손상 및 교란</t>
      <t id="17">조사 탐사정</t>
      <t id="18">우주에서 사물을 감지합니다.</t>
      <t id="19">조사 유닛</t>
      <t id="20">데이터 저장소 및 버려진 선박과 같은 숨겨진 보물을 탐지하는 조사 탐사정으로 분할됩니다. 일회용 입니다.</t>

      <t id="21">적 탐지 위성 \(비활성\)</t>
      <t id="22">적 탐지 위성 \(활성\)</t>

      <t id="101">섹터위성: 게임 내에서 모드 파일을 찾을 수 없습니다. 모드가 올바른 위치 \(/X4 Foundations/extensions\)에 설치되어 있는지 확인하십시오. 모드가 활성화되지 않았습니다!</t>
      <t id="102">섹터위성 업데이트 완료</t>
      <t id="103">섹터위성 설치 완료</t>
      <t id="104">값이 true 또는 false로 올바르게 설정되지 않아 설정될 때까지 기본값을 적용합니다!</t>
      <t id="105">수명은 80초와 600초 이내여야 하며 설정될 때까지 기본값을 적용합니다!</t>

      <t id="201">적 탐지 보고서: %2 의 %1 영역\n</t>
      <t id="211">조사 보고서 - 우주에서 발견된 관심 물체: \(s\) </t>
      <t id="212"> 잠긴상자가 감지되었습니다.</t>
      <t id="213">조사 보고서 사용 가능</t>
      <t id="214">그리고</t>
      <t id="215"> 추가 스테이션.</t>
      <t id="220">장소:</t>

      <t id="230">위성 파괴됨</t>
      <t id="231">당신의 %1이(가) 파괴됨: %2 에서 %3 에게</t>

      <t id="23">자원 조사 유닛</t>
      <t id="24">숨겨진 자원을 감지하고 가장 좋은 위치에 자원 탐사정을 배치하는 조사 탐사정으로 분할</t>
      <t id="25">자원 조사 탐사정</t>
      <t id="26">표준 자원 탐사정과 유사한 탐사정. 자원 조사 유닛에서 생성했습니다.</t>

      <t id="106">$resourcesToScan에 대한 테이블 값에 오류가 있습니다. 수정될 때까지 기본값을 적용합니다!</t>
      <t id="107">모드 설정 %1이(가) 잘못되었습니다. 수정될 때까지 기본값을 적용합니다!</t>

      <t id="240">생산:</t>
      <t id="241">/ km³</t>
      <t id="242">자원 조사 보고서 - 찾은 자원</t>

      <t id="401">자폭 %1 자원 조사 탐사정</t>
      <t id="402">자원 조사 탐사정을 찾을 수 없습니다.</t>
      <t id="403">자폭 %1 자원 탐사정</t>
      <t id="404">자원 탐사정을 찾을 수 없습니다.</t>
      <t id="405">개인적으로 정의한 개체 %1 자폭</t>
      <t id="406">개인적으로 정의된 개체를 찾을 수 없습니다.</t>
      <t id="407">제거 완료</t>

      <t id="408">은하계 전체에서 비활성화된 개체 %1 자폭</t>
      <t id="409">비활성화된 개체를 찾을 수 없습니다.</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff><?xml version="1.0" encoding="UTF-8"?>

<diff>
  <add sel="/language">
    <page id="927865" title="SectorSatellites" descr="Text of Sector Satellites" voice="no">
      <t id="1">SectorSatellites</t>
      <t id="2">Sector Satellites</t>

      <t id="11">Advanced Satellite Detection Probe</t>
      <t id="12">Used by advanced satellites.</t>
      <t id="13">Hostile Detection Satellite</t>
      <t id="14">Only activates when hostile l or xl ships are in range and warns the owner</t>
      <t id="15">Interdiction Probe</t>
      <t id="16">Damages and disrupts engines of larger ships</t>
      <t id="17">Survey Probe</t>
      <t id="18">Detects things in space</t>
      <t id="19">Survey Unit</t>
      <t id="20">Splits up into Survey Probes that detect hidden treasures, like datavaults and abandoned ships. One time use only.</t>

      <t id="21">Hostile Detection Satellite \(Passive\)</t>
      <t id="22">Hostile Detection Satellite \(Active\)</t>

      <t id="101">SectorSatellite: Mod files were not found ingame, please make sure the mod is installed in the correct location \(/X4 Foundations/extensions\). Mod NOT activated!</t>
      <t id="102">SectorSatellite update complete</t>
      <t id="103">SectorSatellite installation complete</t>
      <t id="104">A value wasn\'t correctly set to true or false, applying default values until fixed!</t>
      <t id="105">The lifetime has to be within 80 and 600 seconds, applying default values until fixed!</t>

      <t id="201">Enemy detection report: %1 in %2 territory\n</t>
      <t id="211">Survey Report - Object\(s\) of interest found in space:</t>
      <t id="212"> lockboxes were detected.</t>
      <t id="213">Survey report available</t>
      <t id="214">and</t>
      <t id="215"> additional stations.</t>
      <t id="220">Location:</t>

      <t id="230">Satellite destroyed</t>
      <t id="231">Your %1 was destroyed in Sector: %2 by %3</t>

      <t id="23">Resource Survey Unit</t>
      <t id="24">Splits up into Survey Probes that detect hidden resources and place resource probes at the best spots</t>
      <t id="25">Resource Survey Probe</t>
      <t id="26">A similar probe like the standard resource probe. Was generated by a Resource Survey Unit.</t>

      <t id="106">A table value for $resourcesToScan is faulty, applying default values until fixed!</t>
      <t id="107">The mod setting %1 is faulty, applying default values until fixed!</t>

      <t id="240">Yield:</t>
      <t id="241">/ km³</t>
      <t id="242">Resource Survey Report - Resources found in</t>

      <t id="401">Self-destruct %1 Resource Survey Probes</t>
      <t id="402">No Resource Survey Probes found</t>
      <t id="403">Self-destruct %1 Resource Probes</t>
      <t id="404">No Resource Probes found</t>
      <t id="405">Self-destruct %1 personally defined objects</t>
      <t id="406">No personally defined objects found</t>
      <t id="407">Removal complete</t>

      <t id="408">Self-destruct %1 deactivated objects galaxy-wide</t>
      <t id="409">No deactivated objects found</t>
    </page>
  </add>
</diff>